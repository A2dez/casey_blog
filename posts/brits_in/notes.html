<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.8.26">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>notes – What the Dickens!</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../../site_libs/quarto-html/axe/axe-check.js" type="module"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting-587c61ba64f3a5504c4d52d930310e48.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap-e31584831b205ffbb2d98406f31c2a5b.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">What the Dickens!</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../about.html"> 
<span class="menu-text">About</span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
  <li class="nav-item compact">
    <a class="nav-link" href="https://twitter.com"> <i class="bi bi-twitter" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block"></header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<section id="protectionism-brits-in-the-paddy-power-grab" class="level1">
<h1>Protectionism, Brits In &amp; The Paddy Power grab</h1>
<p>Protectionism possible cos of the decline in international trade</p>
<ul>
<li><p>exports badly hit (e.g.&nbsp;livestock)</p></li>
<li><p>long-term unemployment in Ireland: there were no jobs abroad to emigrate to.</p></li>
<li><p>in 1936 Census of Industrial production, 2/3 or all factories had been set up since 1929 (press 48)</p></li>
</ul>
<!-- -->
<ul>
<li><p>The Weakness in the self-sufficiency goal</p>
<ul>
<li><p>Need for capital, know-how (training and managerial expertise)</p>
<ul>
<li>had to train green operatives nad they were paid low wages for 2 (or even 4) year</li>
</ul></li>
<li><p>Low starting capital in footwear and leather</p>
<ul>
<li><p>padmore –&gt; 20k</p></li>
<li><p>Hallidays –&gt; 20k</p></li>
<li><p>STedfat shoese –&gt; 12k</p></li>
<li><p>Edenderry Show –. 6k</p></li>
</ul></li>
<li><p>Working capital more of a problem</p>
<ul>
<li><p>seasonal orders, leather &amp; other materials needed in advance of production</p></li>
<li><p>banks had to provide short-term loans &amp; overdraft – OR from partent company / contacts</p></li>
</ul></li>
</ul></li>
<li><p>scramble for industry</p>
<ul>
<li><p>towns had vacant buildings so no need to build</p></li>
<li><p>local interest and sometimes capital.</p></li>
</ul></li>
<li><p>mixed with FF politics and choosing the right town</p>
<ul>
<li><p>How was Dungarvan chosen (will I have to look at state papers etc)</p>
<ul>
<li>UDC, FF cumainn,</li>
</ul></li>
<li><p>Power</p>
<ul>
<li><p>Crowley,</p></li>
<li><p>Cox</p></li>
<li><p>UDC</p></li>
</ul></li>
</ul></li>
</ul>
<p><strong>Sources</strong></p>
<ul>
<li><p>Mary Daly</p></li>
<li><p>Footwear Industry</p></li>
<li><p>Leather Industry in Ireland</p></li>
</ul>
<p>Leather Industries in Ireland: D J Dwyer, 1961</p>
<section id="protectionism" class="level3">
<h3 class="anchored" data-anchor-id="protectionism"><strong>Protectionism</strong></h3>
<ul>
<li>synergy between economic policy around the world (due to the global depression) and Arthur Griffith’s ‘traditional Irish nationalism’, thus ‘making a virtue out of necessity’. (footwear p31)</li>
<li>Sean Lemass – minister for Industry and Commerce - and ‘the government assumed a much wider responsibility for industrial development’</li>
</ul>
<!-- -->
<ul>
<li>Predating de Valera’s Economic War, ‘the leather industries were the first to which the protective policy was applied. In 1924 a duty was placed upon imported boots and shoes because the boot and shoe industry ’should lead to the resurrection of an important tanning industry’ (said minister for ?)
<ul>
<li>1924 import duty placed on shoes and boots but the duty was low enough that the Brits could take the 15% hit and continue selling, esp daintier leather for ladies’ shoes.</li>
</ul></li>
<li><ol type="1">
<li>Duty too low to blunt the edge of British competition</li>
</ol></li>
</ul>
<ol start="2" type="1">
<li>in other industreies where tariffs were higher, large British companies responded to the legislation by setting up factories in the Free State or taking over well-known Irish firms (n48)</li>
</ol>
<!-- -->
<ul>
<li><strong>Economic war</strong></li>
<li>15% duty on British imports made little difference (get dates)</li>
<li>’Increased duties on footwear came into effect in April 1932. eather footwear @ 37.5% (25% preferential)
<ul>
<li>Brits put huge duties on importsn of Irish livestock, dairy produce and meat</li>
<li>&amp; Irelnad retaliated with the Emergency Imposition of Duties Act. EID No 5 Order applied to footwear,</li>
</ul></li>
<li></li>
<li>Irish Free State Tanners Federation</li>
<li>Importas reduced post 1935
<ul>
<li>from 59704 hundredweights of of undressed tanned hides for soles and insoldes to 14452 in 1939)
<ul>
<li>was part of this affected by the war</li>
</ul></li>
</ul></li>
</ul>
</section>
<section id="economic-activity-post-1932" class="level3">
<h3 class="anchored" data-anchor-id="economic-activity-post-1932">Economic activity post 1932</h3>
<p>(Price, Footwear p31-2)</p>
<p>Who was providing credit to the below companies?</p>
<ul>
<li>Only Padmore &amp; Barnes was established as a public company in Northampton in 1895</li>
<li></li>
<li>British companies already here
<ul>
<li>John Halliday was registered in Irleand as a registered private limited company In August 2028 with an issued capital of £14k, and brought 30-40 key operatives.</li>
<li>But more moved in post 1932
<ul>
<li>Edward Donaghy &amp; Son Ltd (ulster) moved from the North to Drogheda</li>
</ul></li>
</ul></li>
</ul>
<p>By June 1933, five new firs</p>
<ul>
<li><p>LImerick Shoe &amp; SLipper Co Ltd</p></li>
<li><p>Toone &amp; Son, Kells</p></li>
<li><p>Edward Donaghy &amp; Sons Ltd, Drogheda</p></li>
<li><p>John Rawson &amp; Son (Ireland) ltd</p></li>
<li><p>JH Woodington (drogheda) litd</p></li>
<li><p>Factories up to 14.</p></li>
<li><p>Padmore &amp; Barnes (Ireland) Ltd, purpose built factory in Kilkenny</p></li>
<li><p>Quotas provided a further stimulus</p></li>
<li><p>1935 - 23 for the manufacture of footwear (Census Ind. Prod), plus also clog makers and manufacturers of boot &amp; shoe components.</p></li>
<li><p>Many of them were very small, even by Irish standards (cf the size of tanneries pre-famine era)</p>
<p><img src="images/Screenshot 2025-11-14 at 09.15.56.png" class="img-fluid"></p>
<p><img src="images/Screenshot 2025-11-14 at 09.17.03.png" class="img-fluid"></p></li>
<li><p>This would be much better as a graphic</p></li>
</ul>
<p><strong>New Tanneries</strong></p>
<p><img src="images/tanneries_ireland_1932-62-.png" class="img-fluid"></p>
<ul>
<li></li>
</ul>
<p><strong>Hides in Use c1930</strong></p>
</section>
<section id="network-of-connections-between-companies" class="level3">
<h3 class="anchored" data-anchor-id="network-of-connections-between-companies">Network of connections between companies</h3>
<p><em>Of course, factories were not set up in a vacuum and not only did British companies set up shop in Ireland, they also brought IP with them and even set up subsidiary industries. For example, Woodington’s of Bristol, who manufactured heavy boots, set up a factory in Drogheda and then helped establish</em></p>
<p><em>Thus we see something of a tension between the divergent economic policies of the respective governments, and the more organic tendency of companies and their employees to move between the two states, bringing IP with them.</em> This, notes Price, was discussed at length in goverment circles, and Lemass, by now the Minister for Industry and Commerce, said “we have not objection to foreign capital in Irish Industry if it does not mean foreign control’. (for more see Price p34-6)</p>
<ul>
<li>foreign nationals were not to be employed except technical experts and foreman for the starting up period</li>
</ul>
<!-- -->
<ul>
<li>Quite a number of British companies drew on local capital when setting up footwear factories in Ireland; but as far as one can tell relatively few were prepared to allow control to pass to Irish business interests.</li>
</ul>
<!-- -->
<ul>
<li>check also the importance of leather quality and shoe quality and the hides used.</li>
</ul>
<!-- -->
<ul>
<li>IP brought from UK to Ireland
<ul>
<li>key operatives</li>
<li>Dickens Leather Co</li>
</ul></li>
</ul>
<!-- -->
<ul>
<li>Woodington’s of Bri</li>
<li>stol set up a factory in Drogheda. They wer also involved in the establishment of the Gorey Leather Co Ltd, which supplied much of the leather used in the Drogheda</li>
<li>Portlaw -&gt; Kennedy O’Brien –&gt; Dungarvan</li>
<li>Dickens –&gt; Dungarvan
<ul>
<li><strong>look at the issue of getting Casey’s name on the company</strong></li>
</ul></li>
</ul>
<p>Footwear Companies</p>
<ul>
<li><p>mostly family concerns with voting rights being held by the owner or his immediate relatives. Or even to important customers</p></li>
<li><p>Padmore &amp; Barnes were the only public company &amp; Woodingtons went public in 1936</p></li>
<li><p>a few British companies before 1932:</p>
<ul>
<li><p>heavy boot manufacturers</p></li>
<li><p>John Halliday &amp; Son Ltd.&nbsp;(Leeds 1968)</p>
<ul>
<li>SEt up in Dundalk and brought 30-40 key workers</li>
</ul></li>
<li><p>Edward Donaghy moved from the North to Drogheda</p></li>
<li><p>JH Woodington of Kingswodd, Briston –&gt; Drogheda</p>
<ul>
<li>set up Gorey leather (as they weren’t allowed to be near Drogheda) Gerrymanderingesque</li>
</ul></li>
<li><p><strong>Padmore &amp; Barnes of NOrthampton</strong></p>
<ul>
<li><p><strong>incorporated in 1895</strong></p></li>
<li><p><strong>Went to Kilkenny - everything poasible was done to encourage them</strong></p>
<ul>
<li><p><strong>rent rebates</strong></p></li>
<li><p><strong>£4000 from 50-60 local subscribers</strong></p></li>
<li><p><strong>constructed 3500sq ft facotry.</strong></p></li>
<li><p><strong>Incorporated in 1934 with issued capital of £20k</strong></p></li>
</ul></li>
<li><p>Similar to Dungarvan in its set up</p></li>
</ul></li>
<li><p>Quite a number of British companies drew on local capital when setting up footwear factories in Ireland but as far as one cane twll relatively few were prepared to allow control to pass to Irish business interests.</p>
<ul>
<li><p>Most British-owned firms applied for New Manufacture Licences and operated under the close supervision of the dept of Industry and commerce.</p></li>
<li><p>Numerous restrictions were imposed (36)</p></li>
<li><div>
<ul>
<li><p>Foreign nationals were not to be employed in any post unless Minister was satisfied if could not be filled by an Iirish citizen</p></li>
<li><p>Sometimes had to produce specific types of shoes (or the factory would be offered to a ladies shoes company, not heavy boots)</p></li>
</ul>
</div></li>
</ul></li>
<li><p>Lemass accused of being a dictator</p>
<ul>
<li><p>but in practice relations were amicable and no prosecuations were made for breach or evasion of regulations (by 1958 when they were changed)</p></li>
<li><p>regulations might be waived in order to create more jobs</p></li>
</ul></li>
</ul></li>
</ul>
<p>Asscociations</p>
<ul>
<li><p>between British and Irish companies</p>
<ul>
<li>e.g Palmers of Leicester + Hilliards of Killarney (heavy boots) combined to build a ladies shoe factory</li>
</ul></li>
</ul>
<p>Advantages of association with Brits</p>
<ul>
<li><p>loans for working capital (not from banks)</p></li>
<li><p>capital, expertise,</p></li>
<li><p>how did any of them do it without a British parent / relative?</p></li>
<li><p>Brits glad of new markets</p>
<ul>
<li>footwear only increased by 1% p.a. between1924-35, and much of their output was for export, which was drying up due to the worldwide recession</li>
</ul></li>
</ul>
<p>Unions</p>
<ul>
<li>Irish towns lacked a labour tradition and it was not easy to convince workers to join a Union</li>
</ul>
<p>Profits</p>
<ul>
<li><p>huge profits int eh early years</p></li>
<li><p>Recession 1936-39</p></li>
</ul>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
      const outerScaffold = trigger.parentElement.cloneNode(true);
      const codeEl = outerScaffold.querySelector('code');
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/A2dez\.github\.io\/casey_blog\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>